import{r,j as e}from"./app-BsQSKHP1.js";import{S as c}from"./Select2Input-BuObVJNw.js";function u({options:n}){const i=r.useMemo(()=>Array.isArray(n)?n.map(s=>{const a=(s&&(s.value??s.id??s.key))??String(s),t=(s&&(s.label??s.text??s.name))??String(s),l=(s&&(s.data.price??s.data.price??s.data.price))??String(s);return{id:String(a),label:String(t),price:String(l)}}):[],[n]),x=r.useMemo(()=>{const s={};return i.forEach(({id:a,label:t,price:l})=>{s[a]=t+" - SAR "+l}),s},[i]),[o,h]=r.useState([]),[j,m]=r.useState({}),b=s=>{const a=Array.isArray(s)?s.map(String):[];h(a),m(t=>{const l={...t};return Object.keys(l).forEach(d=>{a.includes(d)||delete l[d]}),a.forEach(d=>{l[d]||(l[d]=1)}),l})},p=(s,a)=>{const t=Math.max(1,parseInt(a||"1",10));m(l=>({...l,[s]:t}))};return e.jsx("div",{className:"modal fade",id:"kt_modal_add_payment",tabIndex:"-1","aria-hidden":"true",children:e.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{className:"fw-bold",children:"Add Payment"}),e.jsx("div",{className:"btn btn-icon btn-sm btn-active-icon-primary","data-bs-dismiss":"modal",children:e.jsx("span",{className:"svg-icon svg-icon-1",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("rect",{opacity:"0.5",x:"6",y:"17.3137",width:"16",height:"2",rx:"1",transform:"rotate(-45 6 17.3137)",fill:"currentColor"}),e.jsx("rect",{x:"7.41422",y:"6",width:"16",height:"2",rx:"1",transform:"rotate(45 7.41422 6)",fill:"currentColor"})]})})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("form",{id:"kt_modal_add_payment_form",className:"form",action:"#",children:[e.jsxs("div",{className:"d-flex flex-column",children:[e.jsx("div",{className:"fv-row mb-7",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Patient"}),e.jsx("span",{className:"badge badge-primary badge-lg float-end","data-bs-toggle":"modal","data-bs-target":"#kt_modal_add_patient",children:"Add"}),e.jsxs(c,{className:"form-select form-select-solid","data-control":"select2","data-dropdown-parent":"#kt_modal_add_payment",initOn:"#kt_modal_add_payment","aria-label":"Select example",name:"patient_id",children:[e.jsx("option",{value:"",children:"Select Patient"}),e.jsx("option",{value:"1",children:"John"}),e.jsx("option",{value:"2",children:"Afsal"}),e.jsx("option",{value:"3",children:"Ahsan"}),e.jsx("option",{value:"4",children:"Kiya"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Doctor"}),e.jsx("span",{className:"badge badge-primary badge-lg float-end","data-bs-toggle":"modal","data-bs-target":"#kt_modal_add_doctor",children:"Add"}),e.jsxs(c,{className:"form-select form-select-solid","data-control":"select2","data-dropdown-parent":"#kt_modal_add_payment",initOn:"#kt_modal_add_payment","aria-label":"Select example",name:"doctor_id",children:[e.jsx("option",{value:"",children:"Select Doctor"}),e.jsx("option",{value:"1",children:"Faisal"}),e.jsx("option",{value:"2",children:"Ahmad"}),e.jsx("option",{value:"3",children:"Saud"})]})]})]})}),e.jsx("div",{className:"fv-row mb-7",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Select Category"}),e.jsx(c,{className:"form-select form-select-solid","data-control":"select2","data-dropdown-parent":"#kt_modal_add_payment","data-placeholder":"Select categories",initOn:"#kt_modal_add_payment",name:"category_ids",multiple:!0,onChange:b,children:i.map(({id:s,label:a})=>e.jsx("option",{value:s,children:a},s))})]}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"card shadow-sm border border-gray-500",children:e.jsx("div",{className:"card-body hover-scroll-y",style:{height:"320px"},children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-row-dashed align-middle gs-0 gy-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"fs-7 fw-bold border-0 text-gray-400",children:[e.jsx("th",{className:"min-w-200px",children:"Item"}),e.jsx("th",{className:"min-w-100px text-center pe-0",children:"Qty"})]})}),e.jsxs("tbody",{className:"cat_payment_tbody",children:[o.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"text-muted",colSpan:2,children:"No category selected"})}),o.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"align-middle",children:x[s]??s}),e.jsx("td",{className:"text-center pe-0",style:{width:100},children:e.jsx("input",{type:"number",min:1,className:"form-control form-control-sm text-center",value:j[s]??1,onChange:a=>p(s,a.target.value)})})]},s))]})]})})})})})]})}),e.jsx("div",{className:"fv-row mb-7",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Sub Total"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"sub_total"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Discount (%)"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"discount"})]})]})}),e.jsx("div",{className:"fv-row mb-7",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Flat Discount"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"flat_discount"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Gross Total"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"gross_total"})]})]})}),e.jsx("div",{className:"fv-row mb-7",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Note"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"note"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Deposit Amount"}),e.jsx("input",{type:"text",className:"form-control form-control-solid",name:"deposit_amount"})]})]})}),e.jsxs("div",{className:"fv-row mb-7",children:[e.jsx("label",{className:"required fw-semibold fs-6 mb-2",children:"Deposit Type"}),e.jsxs(c,{className:"form-select form-select-solid","data-control":"select2","data-dropdown-parent":"#kt_modal_add_payment",initOn:"#kt_modal_add_payment","aria-label":"Select example",name:"deposit_type",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"1",children:"Test"}),e.jsx("option",{value:"2",children:"Test1"})]})]})]}),e.jsxs("div",{className:"text-end pt-15",children:[e.jsx("button",{type:"reset",className:"btn btn-light me-3","data-bs-dismiss":"modal",children:"Discard"}),e.jsx("button",{type:"submit",className:"btn btn-primary","data-kt-users-modal-action":"submit",children:e.jsx("span",{className:"indicator-label",children:"Submit"})})]})]})})]})})})}export{u as A};
