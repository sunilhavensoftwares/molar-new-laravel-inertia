import{X as N,j as e,A as u}from"./app-BsAMsUQH.js";const y=({currentPage:t,totalPages:a,onPageChange:h})=>{const c=(()=>{const n=[];if(a<=7)for(let i=1;i<=a;i++)n.push(i);else{n.push(1),t>4&&n.push("...");const i=Math.max(2,t-1),d=Math.min(a-1,t+1);for(let o=i;o<=d;o++)n.push(o);t<a-3&&n.push("..."),n.push(a)}return n})();return a>1?e.jsx("nav",{"aria-label":"Pagination",children:e.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[e.jsx("li",{className:`page-item ${t===1?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>h(t-1),children:e.jsx("i",{className:"previous"})})}),c.map((n,i)=>e.jsx("li",{className:`page-item ${n===t?"active":""} ${n==="..."?"disabled":""}`,children:n==="..."?e.jsx("span",{className:"page-link",children:"…"}):e.jsx("button",{className:"page-link",onClick:()=>h(n),children:n})},i)),e.jsx("li",{className:`page-item ${t===a?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>h(t+1),children:e.jsx("i",{className:"next"})})})]})}):null},g=({columns:t,data:a,tableProps:h={},currentPage:p,perPage:c,total:n,sortKey:i,sortOrder:d})=>{const{props:o}=N(),m=o.query||{},x=o.routeUrl||window.location.pathname,b=Math.ceil(n/c),f=s=>{const l=t.find(j=>j.key===s);if(!l||!l.sortable)return;let r="asc";i===l.sort_key&&(r=d==="asc"?"desc":"asc"),u.get(x,{...m,page:1,perPage:c,sort:l.sort_key,order:r},{preserveScroll:!0,preserveState:!0})},k=s=>{u.get(x,{...m,page:s,perPage:c,sort:i,order:d},{preserveScroll:!0,preserveState:!0})},v=s=>{const l=Number(s.target.value);u.get(x,{...m,page:1,perPage:l,sort:i,order:d},{preserveScroll:!0,preserveState:!0})};return e.jsxs("div",{className:"table-responsive",children:[e.jsxs("table",{...h,children:[e.jsx("thead",{children:e.jsx("tr",{children:t.map((s,l)=>e.jsxs("th",{onClick:()=>s.sortable&&f(s.key),style:{cursor:s.sortable?"pointer":"default"},...s.thProps,children:[s.label,s.sortable&&s.sort_key===i&&e.jsxs("span",{children:[" ",d==="asc"?"▲":"▼"]})]},l))})}),e.jsx("tbody",{children:a.length>0?a.map((s,l)=>e.jsx("tr",{children:t.map((r,j)=>e.jsx("td",{...r.tdProps||{},children:typeof s[r.key]=="object"&&s[r.key]!==null&&"content"in s[r.key]?s[r.key].content:s[r.key]},j))},l)):e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,className:"text-center py-3",children:"No records found."})})})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3 flex-wrap gap-2",children:[e.jsxs("div",{children:["Show"," ",e.jsx("select",{className:"form-select form-select-sm d-inline w-auto",value:c,onChange:v,children:[5,10,25,50,100].map(s=>e.jsx("option",{value:s,children:s},s))})," ","entries"]}),e.jsxs("div",{children:["Showing ",(p-1)*c+1," to"," ",Math.min(p*c,n)," of ",n," records"]}),e.jsx(y,{currentPage:p,totalPages:b,onPageChange:k})]})]})};export{g as D};
