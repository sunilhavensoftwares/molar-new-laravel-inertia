import{X as N,j as e,A as u}from"./app-CKsL3646.js";const y=({currentPage:n,totalPages:i,onPageChange:h})=>{const c=(()=>{const t=[];if(i<=7)for(let a=1;a<=i;a++)t.push(a);else{t.push(1),n>4&&t.push("...");const a=Math.max(2,n-1),d=Math.min(i-1,n+1);for(let o=a;o<=d;o++)t.push(o);n<i-3&&t.push("..."),t.push(i)}return t})();return i>1?e.jsx("nav",{"aria-label":"Pagination",children:e.jsxs("ul",{className:"pagination pagination-sm mb-0",children:[e.jsx("li",{className:`page-item ${n===1?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>h(n-1),children:e.jsx("i",{className:"previous"})})}),c.map((t,a)=>e.jsx("li",{className:`page-item ${t===n?"active":""} ${t==="..."?"disabled":""}`,children:t==="..."?e.jsx("span",{className:"page-link",children:"…"}):e.jsx("button",{className:"page-link",onClick:()=>h(t),children:t})},a)),e.jsx("li",{className:`page-item ${n===i?"disabled":""}`,children:e.jsx("button",{className:"page-link",onClick:()=>h(n+1),children:e.jsx("i",{className:"next"})})})]})}):null},g=({columns:n,data:i,tableProps:h={},currentPage:p,perPage:c,total:t,sortKey:a,sortOrder:d})=>{const{props:o}=N(),x=o.query||{},m=o.routeUrl||window.location.pathname,b=Math.ceil(t/c),f=s=>{const l=n.find(j=>j.key===s);if(!l||!l.sortable)return;let r="asc";a===l.sort_key&&(r=d==="asc"?"desc":"asc"),u.get(m,{...x,page:1,perPage:c,sort:l.sort_key,order:r},{preserveScroll:!0,preserveState:!0})},k=s=>{u.get(m,{...x,page:s,perPage:c,sort:a,order:d},{preserveScroll:!0,preserveState:!0})},v=s=>{const l=Number(s.target.value);u.get(m,{...x,page:1,perPage:l,sort:a,order:d},{preserveScroll:!0,preserveState:!0})};return e.jsxs("div",{className:"table-responsive",children:[e.jsxs("table",{...h,children:[e.jsx("thead",{children:e.jsx("tr",{className:"text-start text-muted fw-bold fs-7 text-uppercase bg-light gs-0",children:n.map((s,l)=>e.jsxs("th",{onClick:()=>s.sortable&&f(s.key),style:{cursor:s.sortable?"pointer":"default"},...s.thProps,children:[s.label,s.sortable&&s.sort_key===a&&e.jsxs("span",{children:[" ",d==="asc"?"▲":"▼"]})]},l))})}),e.jsx("tbody",{children:i.length>0?i.map((s,l)=>e.jsx("tr",{children:n.map((r,j)=>e.jsx("td",{...r.tdProps||{},children:typeof s[r.key]=="object"&&s[r.key]!==null&&"content"in s[r.key]?s[r.key].content:s[r.key]},j))},l)):e.jsx("tr",{children:e.jsx("td",{colSpan:n.length,className:"text-center py-3",children:"No records found."})})})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3 flex-wrap gap-2",children:[e.jsxs("div",{children:["Show"," ",e.jsx("select",{className:"form-select form-select-sm d-inline w-auto",value:c,onChange:v,children:[5,10,25,50,100].map(s=>e.jsx("option",{value:s,children:s},s))})," ","entries"]}),e.jsxs("div",{children:["Showing ",(p-1)*c+1," to"," ",Math.min(p*c,t)," of ",t," records"]}),e.jsx(y,{currentPage:p,totalPages:b,onPageChange:k})]})]})};export{g as D};
