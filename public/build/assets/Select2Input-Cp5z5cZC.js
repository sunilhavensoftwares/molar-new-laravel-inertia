const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/select2.full-mwj4AsPy.js","assets/index-BuezaGOJ.js","assets/index-BLUjwfC2.css"])))=>i.map(i=>d[i]);
import{r as w,j as E,_}from"./app-CKsL3646.js";import"./index-BuezaGOJ.js";const j=({children:m,value:c,onChange:a,name:h,className:i="",multiple:p=!1,ajax:x=null,initOn:s=null,...g})=>{const o=w.useRef(),$=async()=>{if(!window.$||typeof window.$!="function")return;const e=window.$(o.current);if(!e||!e.length)return;if(!await(async()=>{if(window.$.fn&&typeof window.$.fn.select2=="function")return!0;if(window.select2Ready&&typeof window.select2Ready.then=="function"){try{await window.select2Ready}catch{}return window.$.fn&&typeof window.$.fn.select2=="function"}try{await _(()=>import("./select2.full-mwj4AsPy.js").then(t=>t.s),__vite__mapDeps([0,1,2]))}catch{}return window.$.fn&&typeof window.$.fn.select2=="function"?!0:(await new Promise(t=>{const u=document.querySelector('script[src*="/plugins/select2/dist/js/select2.full.min.js"]');if(u)u.addEventListener("load",()=>t()),u.addEventListener("error",()=>t());else{const l=document.createElement("script");l.src="/plugins/select2/dist/js/select2.full.min.js",l.onload=()=>t(),l.onerror=()=>t(),document.head.appendChild(l)}}),window.$.fn&&typeof window.$.fn.select2=="function")})()){console.warn("Select2 plugin not available yet");return}e.data("select2")&&e.select2("destroy");const n=e.closest(".modal, .offcanvas, .popup").length>0?e.closest(".modal, .offcanvas, .popup"):e.parent();e.select2({dropdownParent:n,placeholder:e.data("placeholder")||"Select",allowClear:e.data("allow-clear")===!0||e.data("allow-clear")==="true",theme:"bootstrap-5",width:"100%",dropdownAutoWidth:!0,ajax:x||void 0});const y=e.next(".select2-container"),f=y.find(".select2-selection");y.addClass("select2-container--bootstrap5"),f.addClass(i),f.find(".select2-selection__arrow").remove(),f.attr({role:"combobox","aria-haspopup":"true","aria-expanded":"false",tabindex:"0","aria-disabled":"false"}),e.on("select2:open",()=>{e.next(".select2-container").find(".select2-selection").attr("aria-expanded","true").addClass(i)}),e.on("select2:close",()=>{e.next(".select2-container").find(".select2-selection").attr("aria-expanded","false")}),c!==void 0&&e.val(c).trigger("change"),e.on("change",function(){const t=e.val();a==null||a(p?t:t||"")}),e.data("select2-cleanup",()=>{e.off("change select2:open select2:close"),e.data("select2")&&e.select2("destroy")})};return w.useEffect(()=>{if(!s)return $(),()=>{if(!window.$||typeof window.$!="function")return;const n=window.$(o.current).data("select2-cleanup");n&&n()};const e=typeof s=="string"?document.querySelector(s):null,d=r=>{(!e||r.target===e)&&setTimeout(()=>{$()},100)};return document.addEventListener("shown.bs.modal",d),()=>{if(document.removeEventListener("shown.bs.modal",d),!window.$||typeof window.$!="function")return;const n=window.$(o.current).data("select2-cleanup");n&&n()}},[s]),w.useEffect(()=>{if(!window.$||typeof window.$!="function")return;const e=window.$(o.current);e&&typeof e.select2=="function"&&e.val(c).trigger("change")},[c]),E.jsx("select",{ref:o,name:h,className:i,multiple:p,...g,children:m})};export{j as S};
